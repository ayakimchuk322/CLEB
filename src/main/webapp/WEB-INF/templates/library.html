<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="Anatoly Yakimchuk">

<link rel="icon" href="../../favicon.ico" th:href="@{/favicon.ico}" type="image/x-icon">
<link rel="shortcut icon" href="../../favicon.ico" th:href="@{/favicon.ico}" type="image/x-icon">

<title>Browse library - Cool library for e-books!</title>

<!-- Google font for library title -->
<link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">

<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="../../css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}">

<!-- Custom styles for this template -->
<link rel="stylesheet" href="../../css/jumbotron.css" th:href="@{/css/jumbotron.css}">

<!-- Custom CLEB css -->
<link rel="stylesheet" href="../../css/cleb.css" th:href="@{/css/cleb.css}">
<link rel="stylesheet" href="../../css/cleb-library.css" th:href="@{/css/cleb-library.css}">

</head>

<body>

  <!-- page container -->
  <div class="container">

    <!-- nav bar -->
    <div class="header clearfix">
      <a href="index"><h3 class="text-muted pull-left clebtitle cllibrarytitle">Cool library for e-books</h3></a>
      <nav>
        <ul class="nav nav-pills pull-left">
          <li role="presentation"><a href="library">Library</a></li>
          <li role="presentation"><a href="upload">Upload</a></li>
        </ul>

        <ul class="nav nav-pills pull-right" th:if="${#strings.isEmpty(username)}">
          <li role="presentation"><a href="login">Login</a></li>
          <li role="presentation"><a href="register">Register</a></li>
        </ul>

        <ul class="nav nav-pills pull-right" th:if="${not #strings.isEmpty(username)}">
          <!-- Add link to personal user page -->
          <li role="presentation"><a href="" th:text="${username}">username</a></li>
          <li role="presentation"><a href="login?logout=true">Logout</a></li>
        </ul>
      </nav>
    </div>
    <!-- /nav bar -->

    <div class="jumbotron">
      <div class="container">
        <h2 class="cllibrarywelcome">Community library</h2>
        <p class="cllibrarywelcome">
          Browse for books uploaded by <span class="clebtitle">CLEB</span> community or <a href="upload">upload</a>
          yours!
        </p>

        <!-- table with books -->
        <div>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Title</th>
                <th>Author(s)</th>
                <th>Series</th>
                <th>Genre</th>
                <th>Published</th>
                <th>Cover</th>
                <th></th>
                <!-- Read button -->
                <th></th>
                <!-- Download button -->
              </tr>
            </thead>
            <tbody>
              <tr th:each="book : ${books}">
                <td th:text="${book.title}">title</td>
                <td th:text="${book.authorFirstName + ' ' + book.authorLastName}">author</td>
                <td th:text="${book.seqName}">series</td>
                <td th:text="${book.genre}">genre</td>
                <td th:text="${book.published}">published</td>

                <!--/* Access to directory outside webapp context tweaked in Tomcat's server.xml */-->
                <td>
                  <!-- Cover -->
                  <div class="clzoom" th:if="${not #strings.isEmpty(book.coverName)}">
                    <img th:src="@{/covers/} + ${book.coverName}">
                  </div>
                  <div class="clzoomoff" th:if="${#strings.isEmpty(book.coverName)}">
                    <img src="../../icons/bookph.png" th:src="@{/icons/bookph.png}">
                  </div>
                </td>

                <td>
                  <!-- Read 'button' -->
                  <div class="clicondiv">
                    <form method="post" action="read" class="inline">
                      <input type="hidden" name="filename" th:value="${book.fileName}">
                      <input type="hidden" name="covername" th:value="${book.coverName}">
                      <input class="cliconimg" type="image" src="../../icons/read.png" th:src="@{/icons/read.png}"
                        th:title="Read + ' ' + ${book.title}">
                    </form>
                  </div>
                </td>

                <td>
                  <!-- Download 'button' -->
                  <div class="clicondiv">
                    <a th:href="@{/books/} +${book.fileName}"><img class="cliconimg" src="../../icons/download.png"
                      th:src="@{/icons/download.png}" th:title="Download  + ' ' + ${book.title}"></a>
                  </div>
                </td>

              </tr>
            </tbody>
          </table>
        </div>
        <!-- /table with books -->

      </div>

    </div>

    <footer class="footer">
      <p>&copy; 2016 Anatoly Yakimchuk.</p>
    </footer>

  </div>
  <!-- /page container -->

  <script src="../../js/zoom.js" th:src="@{/js/zoom.js}"></script>

</body>
</html>
